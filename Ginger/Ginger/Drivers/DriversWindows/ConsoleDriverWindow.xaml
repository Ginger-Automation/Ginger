<Window x:Class="Ginger.Drivers.DriversWindows.ConsoleDriverWindow" 
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"      
        Title="ConsoleDriverWindow" Height="600" Width="900" 
        Closing="ConsoleDriverWindow_Closing" 
        Background="#f4f4f4">
    <Grid x:Name="xRootGrid" Margin="5">
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/> <!-- Top controls bar -->
            <RowDefinition Height="*"/>  <!-- Console area -->
            <RowDefinition Height="Auto"/> <!-- Command area -->
        </Grid.RowDefinitions>

        <!-- Top Control Bar -->
        <Border Grid.Row="0" CornerRadius="4" Background="White" BorderBrush="#d0d0d0" BorderThickness="1" Padding="6" SnapsToDevicePixels="True">
            <DockPanel>
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                    <Button x:Name="RecordButton" Click="RecordButton_Click" Content="Record" Style="{DynamicResource $ImageButtonStyle}" Margin="0,0,6,0" ToolTip="Start/Stop Recording"/>
                    <Button x:Name="NewActionButton" Click="NewActionButton_Click"  Content="New Action" Style="{DynamicResource $ImageButtonStyle}" Margin="0,0,6,0" ToolTip="Create new Console Action"/>
                    <Separator Margin="4,0" Width="1" Background="#e0e0e0"/>
                    <TextBlock VerticalAlignment="Center" Margin="4,0" Text="Theme:" Foreground="#555"/>
                    <Button x:Name="GreenBackgroundButton" Click="GreenBackgroundButton_Click" Content="Green" Style="{DynamicResource $ImageButtonStyle}" Margin="2,0" ToolTip="Green on Black"/>
                    <Button x:Name="BlackBackgroundButton" Click="BlackBackgroundButton_Click" Content="Black" Style="{DynamicResource $ImageButtonStyle}" Margin="2,0" ToolTip="Black on White"/>
                    <Button x:Name="WhiteBackgroundButton" Click="WhiteBackgroundButton_Click" Content="White" Style="{DynamicResource $ImageButtonStyle}" Margin="2,0" ToolTip="White on Black"/>
                    <Separator Margin="6,0" Width="1" Background="#e0e0e0"/>
                    <Button x:Name="TopButton" Content="Top" Margin="2,0" Width="60" Style="{DynamicResource $ImageButtonStyle}" Click="TopButton_Click" ToolTip="Pin on Top"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Right" HorizontalAlignment="Right" >
                    <Label x:Name="xStatusLabel" Content="Disconnected" Foreground="Red" FontWeight="Bold" VerticalAlignment="Center" Margin="0,0,10,0"/>
                </StackPanel>
            </DockPanel>
        </Border>

        <!-- Console Output Area -->
        <Border Grid.Row="1" CornerRadius="4" BorderBrush="#d0d0d0" BorderThickness="1" Background="#1e1e1e" Padding="6" SnapsToDevicePixels="True">
            <RichTextBox x:Name="ConsoleTextBox" Background="#1e1e1e" Foreground="#00dd00" FontFamily="Consolas" FontSize="14" IsReadOnly="True" BorderThickness="0" FontWeight="Bold"
                         ScrollViewer.HorizontalScrollBarVisibility="Visible" ScrollViewer.VerticalScrollBarVisibility="Visible"/>
        </Border>

        <!-- Command Entry Area -->
        <Border Grid.Row="2" CornerRadius="4" Background="White" BorderBrush="#d0d0d0" BorderThickness="1" Padding="6" Margin="0,8,0,0">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="Command:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="#333"/>
                <TextBox x:Name="CommandTextBox" Grid.Column="1" FontSize="14" FontFamily="Consolas" Background="#1e1e1e" Foreground="#00dd00" BorderBrush="#4c4c4c" BorderThickness="1" Padding="4" KeyUp="CommandTextBox_KeyUp"/>
                <Button x:Name="GoButton" Grid.Column="2" Click="GoButton_Click"  Content="Run" Style="{DynamicResource $ImageButtonStyle}" Margin="8,0,0,0" Width="70"/>
            </Grid>
        </Border>
    </Grid>
</Window>
