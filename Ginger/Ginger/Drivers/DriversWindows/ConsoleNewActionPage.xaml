<Page
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      x:Class="Ginger.Drivers.DriversWindows.ConsoleNewActionPage"
      Title="Create New Console Action"
      Background="#121118">
    <Page.Resources>
        <SolidColorBrush x:Key="DarkPanelBG" Color="#28263B"/>
        <SolidColorBrush x:Key="DarkBorder" Color="#37324B"/>
        <SolidColorBrush x:Key="DarkText" Color="#DCDCEB"/>
        <SolidColorBrush x:Key="DarkMutedText" Color="#B4AFC3"/>
        <SolidColorBrush x:Key="DarkRow" Color="#1E1C28"/>
        <SolidColorBrush x:Key="DarkAltRow" Color="#222030"/>
        <SolidColorBrush x:Key="DarkSelection" Color="#39364A"/>
        <SolidColorBrush x:Key="DarkHover" Color="#323042"/>
        <SolidColorBrush x:Key="DarkEditBG" Color="#181622"/>
        <SolidColorBrush x:Key="DarkScrollTrack" Color="#121118"/>
        <SolidColorBrush x:Key="DarkThumb" Color="#2A283B"/>
        <SolidColorBrush x:Key="DarkThumbBorder" Color="#555"/>
        <Style x:Key="RoundedPanel" TargetType="Border">
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="BorderBrush" Value="{StaticResource DarkBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="{StaticResource DarkPanelBG}"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
        </Style>
        <Style TargetType="TextBox" x:Key="DarkTextBox">
            <Setter Property="Foreground" Value="{StaticResource DarkText}"/>
            <Setter Property="Background" Value="#14121D"/>
            <Setter Property="BorderBrush" Value="{StaticResource DarkBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="4"/>
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="CaretBrush" Value="{StaticResource DarkText}"/>
        </Style>
        <Style x:Key="DGInnerTextBox" TargetType="TextBox" BasedOn="{StaticResource DarkTextBox}">
            <Setter Property="Background" Value="{StaticResource DarkEditBG}"/>
        </Style>
        <!-- Dark ScrollBar / ScrollViewer Styles -->
        <Style x:Key="DarkScrollBar" TargetType="ScrollBar">
            <Setter Property="Background" Value="{StaticResource DarkScrollTrack}"/>
            <Setter Property="Foreground" Value="#777"/>
            <Setter Property="Width" Value="12"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollBar">
                        <Grid Background="{TemplateBinding Background}">
                            <Track Name="PART_Track" IsDirectionReversed="False">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="ScrollBar.LineUpCommand" Background="{StaticResource DarkScrollTrack}" Foreground="#777"/>
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="ScrollBar.LineDownCommand" Background="{StaticResource DarkScrollTrack}" Foreground="#777"/>
                                </Track.IncreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb Background="{StaticResource DarkThumb}" BorderBrush="{StaticResource DarkThumbBorder}" BorderThickness="1"/>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="DarkScrollViewer" TargetType="ScrollViewer">
            <Setter Property="Background" Value="#14121D"/>
        </Style>
        <!-- Dark DataGrid Styles -->
        <Style TargetType="DataGridColumnHeader" x:Key="DarkDGHeader">
            <Setter Property="Foreground" Value="{StaticResource DarkMutedText}"/>
            <Setter Property="Background" Value="#28263B"/>
            <Setter Property="BorderBrush" Value="{StaticResource DarkBorder}"/>
            <Setter Property="BorderThickness" Value="0,0,1,1"/>
            <Setter Property="Padding" Value="6,4"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="DataGridColumnHeader">
                        <Border x:Name="hdr" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="hdr" Property="Background" Value="#303048"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="hdr" Property="Background" Value="#343454"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="DataGrid" x:Key="DarkDataGrid">
            <Setter Property="Foreground" Value="{StaticResource DarkText}"/>
            <Setter Property="Background" Value="#14121D"/>
            <Setter Property="BorderBrush" Value="{StaticResource DarkBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="GridLinesVisibility" Value="None"/>
            <Setter Property="RowBackground" Value="{StaticResource DarkRow}"/>
            <Setter Property="AlternatingRowBackground" Value="{StaticResource DarkAltRow}"/>
            <Setter Property="HorizontalGridLinesBrush" Value="#222030"/>
            <Setter Property="VerticalGridLinesBrush" Value="#222030"/>
            <Setter Property="SelectionMode" Value="Extended"/>
            <Setter Property="SelectionUnit" Value="FullRow"/>
            <Setter Property="CanUserReorderColumns" Value="False"/>
            <Setter Property="CanUserResizeRows" Value="False"/>
            <Setter Property="ColumnHeaderStyle" Value="{StaticResource DarkDGHeader}"/>
        </Style>
        <Style TargetType="DataGridRow" x:Key="DarkDGRow">
            <Setter Property="BorderBrush" Value="{StaticResource DarkBorder}"/>
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="DataGridRow">
                        <Border x:Name="RowBorder" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                            <DataGridCellsPresenter/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="RowBorder" Property="Background" Value="{StaticResource DarkSelection}"/>
                                <Setter Property="Foreground" Value="{StaticResource DarkText}"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="RowBorder" Property="Background" Value="{StaticResource DarkHover}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="DataGridCell" x:Key="DarkDGCell">
            <Setter Property="BorderBrush" Value="#222030"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="6,3"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="DataGridCell">
                        <Border x:Name="CellBorder" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" SnapsToDevicePixels="True">
                            <ContentPresenter VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="CellBorder" Property="Background" Value="{StaticResource DarkSelection}"/>
                                <Setter Property="Foreground" Value="{StaticResource DarkText}"/>
                            </Trigger>
                            <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                <Setter TargetName="CellBorder" Property="Background" Value="{StaticResource DarkEditBG}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Page.Resources>
    <Grid Margin="8" Background="#121118">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Command Input -->
        <Border Style="{StaticResource RoundedPanel}" Grid.Row="0">
            <DockPanel>
                <TextBlock Text="Command" Foreground="#B4AFC3" Margin="0,0,8,0" VerticalAlignment="Center"/>
                <TextBox x:Name="CommandTextBox" Style="{StaticResource DarkTextBox}" Width="Auto" MinWidth="300" HorizontalAlignment="Stretch"/>
            </DockPanel>
        </Border>

        <!-- Parameters Grid -->
        <Border Style="{StaticResource RoundedPanel}" Grid.Row="1" Margin="0,8,0,0">
            <StackPanel>
                <TextBlock Text="Parameters" Foreground="#B4AFC3" FontWeight="Bold" Margin="0,0,0,6"/>
                <DataGrid x:Name="ParamsDataGrid" Style="{StaticResource DarkDataGrid}" AutoGenerateColumns="False" HeadersVisibility="Column" CanUserAddRows="True" CanUserDeleteRows="True" RowStyle="{StaticResource DarkDGRow}" CellStyle="{StaticResource DarkDGCell}">
                    <DataGrid.Resources>
                        <Style TargetType="ScrollViewer" BasedOn="{StaticResource DarkScrollViewer}"/>
                        <Style TargetType="ScrollBar" BasedOn="{StaticResource DarkScrollBar}"/>
                        <Style TargetType="TextBox" BasedOn="{StaticResource DGInnerTextBox}"/>
                    </DataGrid.Resources>
                    <DataGrid.Columns>
                        <DataGridTextColumn Binding="{Binding Path=Param}" Header="Parameter" Width="150"/>
                        <DataGridTextColumn Binding="{Binding Path=Value}" Header="Value" Width="*"/>
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>
        </Border>

        <!-- Hint Footer -->
        <Border Style="{StaticResource RoundedPanel}" Grid.Row="2" Margin="0,8,0,0" Background="#1E1C28">
            <TextBlock Text="Command can be like: cp, cd or any Unix command / shell script. Parameter names and values can be edited." TextWrapping="Wrap" Foreground="#8F8AA2"/>
        </Border>
    </Grid>
</Page>
