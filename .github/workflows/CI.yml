name: CI

on:
    workflow_dispatch:
    workflow_call:
    
    pull_request:
        branches: 
          - master
          - Features/Linux-Migration
          - Releases/*
          - Releases/*/*

jobs:
#    Codacy:
#        name: Code_Quality
#        runs-on: ubuntu-latest
#        steps:
#            - uses: actions/checkout@v3
    
    Build:
        name: Build Stage
 #       needs: Codacy   
        uses: Ginger-Automation/Ginger/.github/workflows/GingerBuild.yml@master
        
    Test:
        name: Test Stage
        needs: Build
        uses: Ginger-Automation/Ginger/.github/workflows/GingerTests.yml@master
        secrets: inherit